<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ë–∏–∑–Ω–µ—Å-–ú–æ–¥–µ–ª–µ–π</title>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* –°—Ç–∏–ª—å –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è */
        .drag-over {
            border: 3px dashed #6366f1; /* Indigo-500 */
            background-color: #eef2ff; /* Indigo-50 */
        }
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ */
        .component-card {
            cursor: grab;
            transition: transform 0.1s ease-in-out, box-shadow 0.1s ease-in-out;
        }
        .component-card:active {
            cursor: grabbing;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transform: scale(1.05);
            z-index: 10;
        }
        .component-icon {
            filter: drop-shadow(1px 1px 1px rgba(0,0,0,0.1));
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 min-h-screen font-sans p-4 md:p-8">

    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 leading-tight">
                –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ë–∏–∑–Ω–µ—Å-–ú–æ–¥–µ–ª–µ–π
            </h1>
            <p class="text-xl text-gray-600 mt-2">
                –°–æ–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π –±–∏–∑–Ω–µ—Å –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É Drag & Drop.
            </p>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å (Flex/Grid Layout) -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

            <!-- 1. –ò—Å—Ö–æ–¥–Ω—ã–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Source) -->
            <div class="lg:col-span-1 bg-white p-6 rounded-xl shadow-lg h-full">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-indigo-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 12a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1v-2zM4 19a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1v-2z" />
                    </svg>
                    –î–æ—Å—Ç—É–ø–Ω—ã–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
                </h2>
                <div id="component-list" class="space-y-4">
                    <!-- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                </div>
            </div>

            <!-- 2. –ó–æ–Ω–∞ –í—ã–±–æ—Ä–∞ (Drop Zone) -->
            <div class="lg:col-span-2 space-y-8">
                <div id="drop-zone" class="bg-indigo-50 border-4 border-dashed border-indigo-200 p-8 min-h-[250px] rounded-xl flex flex-col items-center justify-center transition-all">
                    <p id="drop-placeholder" class="text-gray-500 text-lg">
                        –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Å—é–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —á—Ç–æ–±—ã –ø–æ—Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ–π –±–∏–∑–Ω–µ—Å!
                    </p>
                    <div id="selected-components" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mt-4 w-full">
                        <!-- –í—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                    </div>
                </div>

                <!-- 3. –û–ø–∏—Å–∞–Ω–∏–µ –ë–∏–∑–Ω–µ—Å–∞ (Output) -->
                <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-indigo-500">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-indigo-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                        –ì–æ—Ç–æ–≤—ã–π –ë–∏–∑–Ω–µ—Å-–ü–ª–∞–Ω (–û–ø–∏—Å–∞–Ω–∏–µ)
                    </h2>
                    <div id="business-description" class="text-gray-700 leading-relaxed text-lg italic">
                        <p class="text-gray-500">
                            –í–∞—à–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
                        </p>
                    </div>
                    <button id="reset-button" class="mt-6 w-full py-2 px-4 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-75">
                        –û—á–∏—Å—Ç–∏—Ç—å –í—ã–±–æ—Ä
                    </button>
                </div>
            </div>

        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        const COMPONENTS = {
            'product': [
                { id: 'P1', name: 'SaaS (–ü–û –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ)', category: '–ü—Ä–æ–¥—É–∫—Ç', icon: 'üíª', snippet: '–í–∞—à –±–∏–∑–Ω–µ—Å ‚Äî —ç—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–∞–∫ —É—Å–ª—É–≥–∏ (SaaS). –í—ã —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç–µ—Å—å –Ω–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º —É–ª—É—á—à–µ–Ω–∏–∏ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞.' },
                { id: 'P2', name: '–§–∏–∑–∏—á–µ—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã (E-com)', category: '–ü—Ä–æ–¥—É–∫—Ç', icon: 'üì¶', snippet: '–í—ã –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å –ø—Ä–æ–¥–∞–∂–µ–π —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (E-commerce). –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –±—Ä–µ–Ω–¥ –∏–ª–∏ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–∂–∞.' },
                { id: 'P3', name: '–£—Å–ª—É–≥–∏ (–ö–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥/–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ)', category: '–ü—Ä–æ–¥—É–∫—Ç', icon: 'üß†', snippet: '–í–∞—à –ø—Ä–æ–¥—É–∫—Ç ‚Äî —ç—Ç–æ —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ —É—Å–ª—É–≥–∏: –∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥, –æ–±—É—á–µ–Ω–∏–µ –∏–ª–∏ —Ñ—Ä–∏–ª–∞–Ω—Å.' }
            ],
            'audience': [
                { id: 'A1', name: '–ú–∞–ª—ã–π –∏ —Å—Ä–µ–¥–Ω–∏–π –±–∏–∑–Ω–µ—Å (B2B)', category: '–ê—É–¥–∏—Ç–æ—Ä–∏—è', icon: 'üè¢', snippet: '–í–∞—à–∞ —Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è ‚Äî –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ (B2B), –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω—ã —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.' },
                { id: 'A2', name: '–ú–∞—Å—Å–æ–≤—ã–π –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å (B2C)', category: '–ê—É–¥–∏—Ç–æ—Ä–∏—è', icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶', snippet: '–í–∞—à–∞ —Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è ‚Äî –º–∞—Å—Å–æ–≤—ã–π –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å (B2C). –í—ã —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω—ã –Ω–∞ –ª–∏—á–Ω—ã—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è—Ö –∏ —ç–º–æ—Ü–∏—è—Ö.' },
                { id: 'A3', name: '–£–∑–∫–∞—è –Ω–∏—à–∞ (–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—ã)', category: '–ê—É–¥–∏—Ç–æ—Ä–∏—è', icon: 'üî¨', snippet: '–í—ã –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–µ—Ç–µ—Å—å –Ω–∞ —É–∑–∫—É—é, –≤—ã—Å–æ–∫–æ—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –Ω–∏—à—É –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ —Å –æ—á–µ–Ω—å —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–º–∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º–∏.' }
            ],
            'monetization': [
                { id: 'M1', name: '–ü–æ–¥–ø–∏—Å–∫–∞ (Recurring)', category: '–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è', icon: 'üîÅ', snippet: '–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ—Ö–æ–¥ ‚Äî —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ (–ø–æ–¥–ø–∏—Å–∫–∞), —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –¥–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫.' },
                { id: 'M2', name: '–ï–¥–∏–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–¥–∞–∂–∞ (One-time)', category: '–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è', icon: 'üí∏', snippet: '–í—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –Ω–∞ –∫—Ä—É–ø–Ω—ã—Ö –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω—ã—Ö –ø—Ä–æ–¥–∞–∂–∞—Ö, —Ç—Ä–µ–±—É—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.' },
                { id: 'M3', name: '–†–µ–∫–ª–∞–º–Ω–∞—è –º–æ–¥–µ–ª—å (Ad/Freemium)', category: '–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è', icon: 'üì∫', snippet: '–î–æ—Ö–æ–¥ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∑–∞ —Å—á–µ—Ç —Ä–µ–∫–ª–∞–º—ã –∏–ª–∏ –ø—Ä–æ–¥–∞–∂–∏ –ø—Ä–µ–º–∏—É–º-—Ñ—É–Ω–∫—Ü–∏–π –≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–æ–¥—É–∫—Ç–µ (Freemium).' }
            ],
            'marketing': [
                { id: 'K1', name: '–ö–æ–Ω—Ç–µ–Ω—Ç-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥ (SEO)', category: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', icon: 'üìù', snippet: '–ü—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–µ–∑–Ω–æ–≥–æ, –≤–∏—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ –ø–æ–∏—Å–∫–æ–≤—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é (SEO).' },
                { id: 'K2', name: '–ü–ª–∞—Ç–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞ (PPC/Target)', category: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', icon: 'üì¢', snippet: '–û—Å–Ω–æ–≤–Ω–æ–π –∫–∞–Ω–∞–ª ‚Äî –ø–ª–∞—Ç–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞ (–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è, —Ç–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è), —Ç—Ä–µ–±—É—é—â–∞—è –±–æ–ª—å—à–∏—Ö –±—é–¥–∂–µ—Ç–æ–≤.' },
                { id: 'K3', name: '–ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞ –∏ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏', category: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', icon: 'ü§ù', snippet: '–†–æ—Å—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞ —Å—á–µ—Ç –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º, —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ –∏ –ª–∏—á–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.' }
            ]
        };

        const dropZone = document.getElementById('drop-zone');
        const componentList = document.getElementById('component-list');
        const selectedComponentsContainer = document.getElementById('selected-components');
        const descriptionOutput = document.getElementById('business-description');
        const dropPlaceholder = document.getElementById('drop-placeholder');
        const resetButton = document.getElementById('reset-button');
        
        let selected = {}; // –•—Ä–∞–Ω–∏—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: { product: 'P1', audience: 'A2', ... }

        // --- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ---

        function getComponentData(id) {
            for (const key in COMPONENTS) {
                const component = COMPONENTS[key].find(c => c.id === id);
                if (component) return component;
            }
            return null;
        }

        function createComponentCard(component, isDraggable = true) {
            const card = document.createElement('div');
            card.className = `component-card p-3 rounded-lg flex items-center shadow-md border border-gray-200 ${isDraggable ? 'bg-white hover:bg-gray-100' : 'bg-indigo-100'}`;
            card.setAttribute('data-component-id', component.id);
            card.setAttribute('data-category', component.category);
            card.draggable = isDraggable;

            // –ò–∫–æ–Ω–∫–∞
            const icon = document.createElement('span');
            icon.className = 'component-icon text-2xl mr-3';
            icon.textContent = component.icon;

            // –¢–µ–∫—Å—Ç
            const text = document.createElement('div');
            text.className = 'flex-grow';
            text.innerHTML = `<p class="font-semibold text-gray-800">${component.name}</p><p class="text-xs text-gray-500">${component.category}</p>`;

            card.appendChild(icon);
            card.appendChild(text);

            if (!isDraggable) {
                // –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É —É–¥–∞–ª–µ–Ω–∏—è –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
                const removeBtn = document.createElement('button');
                removeBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-500 hover:text-red-700" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>`;
                removeBtn.className = 'ml-3 flex-shrink-0';
                removeBtn.onclick = (e) => {
                    e.stopPropagation();
                    removeComponent(component.id);
                };
                card.appendChild(removeBtn);
            }

            return card;
        }
        
        // --- –õ–æ–≥–∏–∫–∞ –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –û–ø–∏—Å–∞–Ω–∏—è ---

        function generateDescription() {
            const selectedIds = Object.values(selected);
            dropPlaceholder.classList.toggle('hidden', selectedIds.length > 0);

            if (selectedIds.length === 0) {
                descriptionOutput.innerHTML = `<p class="text-gray-500">–í–∞—à–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.</p>`;
                dropZone.classList.add('flex', 'flex-col', 'items-center', 'justify-center');
                return;
            }

            dropZone.classList.remove('flex', 'flex-col', 'items-center', 'justify-center');

            const selectedData = selectedIds.map(id => getComponentData(id));

            // –°–æ–±–∏—Ä–∞–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
            const product = selectedData.find(c => c.category === '–ü—Ä–æ–¥—É–∫—Ç');
            const audience = selectedData.find(c => c.category === '–ê—É–¥–∏—Ç–æ—Ä–∏—è');
            const monetization = selectedData.find(c => c.category === '–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è');
            const marketing = selectedData.find(c => c.category === '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥');

            let description = '<h2>–í–∞—à–∞ –ë–∏–∑–Ω–µ—Å-–ú–æ–¥–µ–ª—å</h2>';
            description += '<p class="mt-4 text-gray-700">';

            // 1. –ü—Ä–æ–¥—É–∫—Ç –∏ –ê—É–¥–∏—Ç–æ—Ä–∏—è
            if (product && audience) {
                description += `–í–∞—à –±–∏–∑–Ω–µ—Å —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω –Ω–∞ <strong>${product.name}</strong>. ${product.snippet} `;
                description += `${audience.snippet} –í—ã –±—É–¥–µ—Ç–µ —Ä–µ—à–∞—Ç—å –∏—Ö –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–º–æ—â—å—é –≤–∞—à–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞.`;
            } else if (product) {
                description += `${product.snippet} `;
            } else if (audience) {
                description += `${audience.snippet} `;
            } else {
                description += '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ.';
            }

            // 2. –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è
            if (monetization) {
                description += `<br><br><strong>–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è:</strong> –í—ã–±—Ä–∞–Ω–Ω–∞—è –≤–∞–º–∏ –º–æ–¥–µ–ª—å –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ ‚Äî <strong>${monetization.name}</strong>. ${monetization.snippet}`;
            }

            // 3. –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥
            if (marketing) {
                description += `<br><br><strong>–°—Ç—Ä–∞—Ç–µ–≥–∏—è –†–æ—Å—Ç–∞:</strong> –û—Å–Ω–æ–≤–Ω–æ–π –∫–∞–Ω–∞–ª –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ ‚Äî <strong>${marketing.name}</strong>. ${marketing.snippet}`;
            }

            description += '</p>';

            descriptionOutput.innerHTML = description;
        }

        function renderComponentList() {
            componentList.innerHTML = '';
            for (const category in COMPONENTS) {
                const header = document.createElement('h3');
                header.className = 'text-lg font-bold mt-4 mb-2 text-indigo-700 border-b border-indigo-100 pb-1';
                header.textContent = category.charAt(0).toUpperCase() + category.slice(1);
                componentList.appendChild(header);

                COMPONENTS[category].forEach(component => {
                    const isSelected = Object.values(selected).includes(component.id);
                    const card = createComponentCard(component, !isSelected);
                    if (isSelected) {
                        card.classList.add('opacity-50', 'grayscale', 'cursor-not-allowed', 'pointer-events-none');
                    }
                    componentList.appendChild(card);
                });
            }
            renderSelectedComponents();
        }

        function renderSelectedComponents() {
            selectedComponentsContainer.innerHTML = '';
            const selectedIds = Object.values(selected);

            if (selectedIds.length === 0) {
                // –ï—Å–ª–∏ –Ω–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö, —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–æ–Ω—ã –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä
                dropZone.classList.add('border-indigo-200');
                dropPlaceholder.classList.remove('hidden');
                return;
            }

            dropZone.classList.remove('border-indigo-200');
            dropPlaceholder.classList.add('hidden');

            selectedIds.forEach(id => {
                const data = getComponentData(id);
                if (data) {
                    const card = createComponentCard(data, false); // false = –Ω–µ–ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–π, –Ω–æ —Å –∫–Ω–æ–ø–∫–æ–π —É–¥–∞–ª–µ–Ω–∏—è
                    selectedComponentsContainer.appendChild(card);
                }
            });
            generateDescription();
        }
        
        function selectComponent(id) {
            const data = getComponentData(id);
            if (!data) return;

            // –ó–∞–º–µ–Ω—è–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –µ–≥–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            const categoryKey = data.category.toLowerCase().split(' ')[0]; // –ü—Ä–æ–¥—É–∫—Ç -> product
            selected[categoryKey] = id;
            
            // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º
            renderComponentList();
        }

        function removeComponent(id) {
            const data = getComponentData(id);
            if (!data) return;

            const categoryKey = data.category.toLowerCase().split(' ')[0];
            delete selected[categoryKey];

            // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º
            renderComponentList();
        }
        
        function resetSelection() {
            selected = {};
            renderComponentList();
        }

        // --- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ Drag & Drop ---

        function handleDragStart(e) {
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞: ID –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
            e.dataTransfer.setData('text/plain', e.target.getAttribute('data-component-id'));
            e.target.classList.add('opacity-50'); // –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏
        }

        function handleDragEnd(e) {
            e.target.classList.remove('opacity-50'); // –£–±–∏—Ä–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç
        }

        function handleDragOver(e) {
            e.preventDefault(); // –†–∞–∑—Ä–µ—à–∞–µ–º drop
            dropZone.classList.add('drag-over');
        }

        function handleDragLeave() {
            dropZone.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            dropZone.classList.remove('drag-over');

            const id = e.dataTransfer.getData('text/plain');
            if (id) {
                selectComponent(id);
            }
        }

        // --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ---
        
        window.onload = function() {
            // 1. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
            renderComponentList();

            // 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å–ª—É—à–∞—Ç–µ–ª–µ–π –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            componentList.addEventListener('dragstart', handleDragStart);
            componentList.addEventListener('dragend', handleDragEnd);

            // 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É—à–∞—Ç–µ–ª–µ–π –¥–ª—è –ó–æ–Ω—ã –í—ã–±–æ—Ä–∞
            dropZone.addEventListener('dragover', handleDragOver);
            dropZone.addEventListener('dragleave', handleDragLeave);
            dropZone.addEventListener('drop', handleDrop);
            
            // 4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É—à–∞—Ç–µ–ª—è –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–±—Ä–æ—Å–∞
            resetButton.addEventListener('click', resetSelection);

            console.log("–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ë–∏–∑–Ω–µ—Å-–ú–æ–¥–µ–ª–µ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω.");
        };

    </script>
</body>
</html>
